{"version":3,"file":"vue-bem-cn.es6.js","sources":["../src/utils.js","../src/bem-cn/bem-names.js","../src/bem-cn/index.js","../src/vue-plugin.js"],"sourcesContent":["export const isString = val => val && typeof val === 'string' && val.length > 0;\nexport const isPObject = val =>\n  val &&\n  typeof val === 'object' &&\n  val !== null &&\n  Object.keys(val).length > 0;\n\nexport const hyphenate = str => str.replace(/\\B([A-Z])/g, '-$1').toLowerCase();\n// eslint-disable-next-line no-restricted-globals\nexport const isNumber = val => typeof val === 'number' && isFinite(val);\n","import { isPObject, isString, isNumber } from '../utils';\n\n/**\n * Create String from BEM entitys\n * @param {Object} entitys BEM entitys\n * @param {String} entitys.block Block\n * @param {String} [entitys.el] Element\n * @param {Object<string>} [entitys.mods] Modifiers\n * @param {String} [entitys.mixin] Mixin\n * @param {Object<string>} delimiters Delimiters for BEM entitys\n * @returns {String}\n */\nexport default function bemNames(entitys, delimiters) {\n  let resultString = '';\n  const names = entitys || { mods: {}, mixin: '' };\n  const delims = {\n    ns: '',\n    el: '__',\n    mod: '--',\n    modVal: '-',\n    ...delimiters,\n  };\n  const mixin = isString(names.mixin) ? ' ' + names.mixin : '';\n\n  if (!names.block) return '';\n  resultString = delims.ns ? delims.ns + names.block : names.block;\n\n  if (names.el) resultString += delims.el + names.el;\n\n  if (isPObject(names.mods)) {\n    resultString += Object.keys(names.mods).reduce((prev, name) => {\n      const val = names.mods[name];\n      /* eslint-disable no-param-reassign */\n      if (val === true) {\n        prev += ' ' + resultString + delims.mod + name;\n      } else if (isString(val) || isNumber(val)) {\n        prev += ' ' + resultString + delims.mod + name + delims.modVal + names.mods[name];\n      }\n      /* eslint-enable no-param-reassign */\n\n      return prev;\n    }, '');\n  }\n  return resultString + mixin;\n}\n","import { isString, isPObject, hyphenate } from '../utils';\nimport bemNames from './bem-names';\n\nexport default function bemCn(block, opt = { delimiters: {} }) {\n  const options = {\n    hyphenate: false,\n    ...opt,\n    delimiters: {\n      ...opt.delimiters,\n    },\n  };\n  if (!isString(block)) return '';\n\n  return function entitys(elem, mods, mix) {\n    const resultObj = {\n      block,\n      el: '',\n      mods: {},\n      mixin: '',\n    };\n\n    if (isPObject(mods)) resultObj.mods = mods;\n\n    if (isString(elem)) {\n      resultObj.el = elem;\n    } else if (isPObject(elem)) {\n      resultObj.mods = elem;\n    }\n\n    if (isString(mods)) {\n      resultObj.mixin =\n        resultObj.mixin.length > 0 ? `${resultObj.mixin} ${mods}` : resultObj.mixin + mods;\n    }\n    if (isString(mix)) {\n      resultObj.mixin =\n        resultObj.mixin.length > 0 ? `${resultObj.mixin} ${mix}` : resultObj.mixin + mix;\n    }\n\n    if (options.hyphenate) {\n      return hyphenate(bemNames(resultObj, options.delimiters));\n    }\n\n    return bemNames(resultObj, options.delimiters);\n  };\n}\n","import bemCn from './bem-cn/index';\n\nexport default {\n  install(Vue, config = { delimiters: {} }) {\n    const cfg = {\n      hyphenate: false,\n      methodName: 'b',\n      ...config,\n      delimiters: {\n        ns: '',\n        el: '__',\n        mod: '--',\n        modVal: '-',\n        ...config.delimiters,\n      },\n    };\n\n    Vue.mixin({\n      created() {\n        const block = this.$options.block || this.$options.name;\n        let generator = null;\n\n        if (typeof block !== 'string') return;\n\n        generator = bemCn(block, cfg);\n        this[cfg.methodName] = (...args) => generator(...args);\n      },\n    });\n  },\n};\n"],"names":["isString","val","length","isPObject","Object","keys","hyphenate","str","replace","toLowerCase","isNumber","isFinite","bemNames","entitys","delimiters","resultString","names","mods","mixin","delims","block","ns","el","reduce","prev","name","mod","modVal","bemCn","opt","options","elem","mix","resultObj","Vue","config","cfg","$options","generator","methodName"],"mappings":"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"}